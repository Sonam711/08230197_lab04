{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Learning Journey</title>
    <link rel="stylesheet" href="{% static 'styles/styles.css' %}">

</head>

<body>
    <header>
        <h1>üåü My Learning Journey üåü</h1>
        <nav>
            <a href="/">Home</a>
            <a href="/about/">About Me</a>
        </nav>
    </header>
    <main>
        {% for journey in journeys %}
        <section class="journey-card">
            <div class="journey-header">
                <h2>{{ journey.title }}</h2>
                <button class="toggle-btn" data-index="{{ forloop.counter0 }}">
                    <span class="toggle-text">Read More</span>
                    <span class="toggle-icon">‚ñº</span>
                </button>
            </div>
            <div class="journey-description" id="description-{{ forloop.counter0 }}">
                <p>{{ journey.description }}</p>
                <small>{{ journey.date }}</small>
            </div>
        </section>
        {% endfor %}
    </main>

    <script>
        // Toggle function for expanding/collapsing journey descriptions
        function toggleDescription(index) {
            const description = document.getElementById('description-' + index);
            const card = description.closest('.journey-card');
            const button = card.querySelector('.toggle-btn');
            const toggleText = button.querySelector('.toggle-text');
            const toggleIcon = button.querySelector('.toggle-icon');

            if (description.classList.contains('expanded')) {
                description.classList.remove('expanded');
                toggleText.textContent = 'Read More';
                toggleIcon.textContent = '‚ñº';
            } else {
                description.classList.add('expanded');
                toggleText.textContent = 'Read Less';
                toggleIcon.textContent = '‚ñ≤';
            }
        }

        // Add event listeners to all toggle buttons
        document.addEventListener('DOMContentLoaded', function() {
            const buttons = document.querySelectorAll('.toggle-btn');
            buttons.forEach(function(button) {
                button.addEventListener('click', function() {
                    const index = this.getAttribute('data-index');
                    toggleDescription(index);
                });
            });
        });
    </script>

    <footer>
        <p>Made with ‚ù§Ô∏è using Django</p>
    </footer>
</body>

</html>